# ################################################################################
# purpose: redis database
# status: working
#
# volume
docker volume rm v-redis
docker volume create v-redis
docker volume list
docker volume inspect v-redis
#
docker stop c-redis
docker rm c-redis
docker rmi i-redis
#
# build
docker build -t i-redis .
#
# run
docker run -d --name c-redis -p 8379:6379 -v v-redis:/data --restart unless-stopped i-redis redis-server --appendonly yes --requirepass redis
#
docker stop c-redis
docker start c-redis
#
# connect
docker exec -it c-redis /bin/bash
#
#connecting from host
brew install redis
redis-cli --version
export REDIS_PASSWORD='redis'
redis-cli -h 127.0.0.1 -p 8379 -a redis
#
# ----------------------------------------
# test
#
# 1. Add a simple string keyâ€“value
SET name "raogaru"
GET name
#
# 2. Add a hash (similar to a row with columns)
HSET user:1 name "John Doe" age 35 department "Engineering"
HGETALL user:1
# 
# 3. Add to a list (like a queue or array)
LPUSH tasks "Task A"
LPUSH tasks "Task B"
LRANGE tasks 0 -1
#
# 4. Add to a set (unique items, no duplicates)
SADD tags alpha beta these gamma
SMEMBERS tags
#
# 5. Add to a sorted set (unique items with scores)
ZADD leaderboard 100 "Alice" 200 "Bob"
ZRANGE leaderboard 0 -1 WITHSCORES
#
# 6. Verify all keys
KEYS *
#
# 7. Delete an entry
DEL name
FLUSHALL
exit
#
# connecting from another container
#redis -h redis -u redis -p redis
# ################################################################################
